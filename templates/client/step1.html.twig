{% extends 'base.html.twig' %}

{% block title %}Formulaire d'inscription | Flexibank{% endblock %}

{% block stylesheets %}

<link rel="stylesheet" href="{{ asset('css/client/step1.css') }}" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/css/select2.min.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/js/select2.min.js"></script>

{% endblock %}

{% block body %}

<nav>
    <a href="{{ path('app_home') }}" class="back-arrow">
        <i class="fas fa-arrow-left"></i> Retour
    </a>
    <h1>Flexibank</h1>
</nav>

<h1>Commen√ßons</h1>

{{ form_start(form) }}
    {{ form_widget(form.paysDeResidence, {'attr': {'class': 'country-select'}}) }}
    <button type="submit">Suivant</button>
{{ form_end(form) }}

<script>
$(document).ready(function () {
    function formatCountry(country) {
        if (!country.id) return country.text;

        return $(
            '<span style="display: flex; align-items: center;">' +
                '<img src="https://flagcdn.com/w40/' + country.id.toLowerCase() + '.png" class="flag-icon" style="width: 20px; height: 15px; margin-right: 10px;" />' +
                '<span>' + country.text + '</span>' +
            '</span>'
        );
    }

    $('.country-select').select2({
        width: '100%',
        templateResult: formatCountry,
        templateSelection: formatCountry,
        dropdownAutoWidth: true,
        theme: 'default'
    });
});

</script>

{% endblock %}
